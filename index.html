<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>FormalSystems by alexprengere</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>FormalSystems</h1>
        <p>A Python implementation of Douglas Hofstadter formal systems</p>

        <p class="view"><a href="https://github.com/alexprengere/FormalSystems">View the Project on GitHub <small>alexprengere/FormalSystems</small></a></p>


        <ul>
          <li><a href="https://github.com/alexprengere/FormalSystems/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/alexprengere/FormalSystems/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/alexprengere/FormalSystems">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h1>
<a name="formalsystems" class="anchor" href="#formalsystems"><span class="octicon octicon-link"></span></a>FormalSystems</h1>

<p>This is a Python implementation of <em>Douglas Hofstadter</em> formal systems,
from his book <em>GÃ¶del, Escher, Bach: An Eternal Golden Braid</em> (commonly
<em>GEB</em>).</p>

<p>In fact, you may define your <em>own formal systems</em> using a quite simple
syntax, close to free text. Examples for <em>MIU</em>, <em>pg</em>, <em>fg</em> and <em>NDP</em>
formal systems from the book are implemented in directory <em>definitions</em>.</p>

<p>A main Python script gives you possibilities to play with the formal
system, including:</p>

<ul>
<li>  axiom schema support (iteration, decision procedure)</li>
<li>  theorem step by step generation (using different algorithms)</li>
<li>  theorem derivation</li>
</ul><h2>
<a name="formal-system-definition" class="anchor" href="#formal-system-definition"><span class="octicon octicon-link"></span></a>Formal system definition</h2>

<h3>
<a name="examples" class="anchor" href="#examples"><span class="octicon octicon-link"></span></a>Examples</h3>

<p>The <em>MIU</em> system may be define with:</p>

<div class="highlight highlight-YAML"><pre><span class="l-Scalar-Plain">axioms</span><span class="p-Indicator">:</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">MI</span>

<span class="l-Scalar-Plain">rules</span><span class="p-Indicator">:</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">x is .*, xI =&gt; xIU</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">x is .*, Mx =&gt; Mxx</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">x is .*, y is .*, xIIIy =&gt; xUy</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">x y  .* , xUUy =&gt; xy</span>
</pre></div>

<p>The underlying syntax is YAML (see raw format). You can define one or
several axioms, or even an infinite number of axioms using a schema, as
in the <em>pg</em> formal system:</p>

<div class="highlight highlight-YAML"><pre><span class="l-Scalar-Plain">axioms</span><span class="p-Indicator">:</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">x is -+, xp-gx-</span>

<span class="l-Scalar-Plain">rules</span><span class="p-Indicator">:</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">x y z are -+, xpygz =&gt; xpy-gz-</span>
</pre></div>

<h3>
<a name="syntax" class="anchor" href="#syntax"><span class="octicon octicon-link"></span></a>Syntax</h3>

<p>Axiom definitions should be formatted like this (<code>[]</code> means this is
optional):</p>

<div class="highlight highlight-bash"><pre><span class="o">[</span>def_1, <span class="o">[</span>def_2, ...<span class="o">]]</span> expr
</pre></div>

<p>Where:</p>

<ul>
<li>
<p><code>def_i</code> is an optional definition of <em>wildcard</em>, using a regular
expression, for example:</p>

<ul>
<li>  ".*" may be anything including the empty string</li>
<li>  "-+" is a string composed of "-"</li>
</ul>
</li>
</ul><p>The definitions are written using <code>char [is] regexp</code> or
<code>char1 char2 [are] regexp</code> if different wildcards have the same
definition. Note that you should use only <em>one character</em> for wildcard
definition.</p>

<ul>
<li>  <code>expr</code> is the axiom expression</li>
</ul><p>Rules for theorem production should be formatted like this:</p>

<div class="highlight highlight-bash"><pre><span class="o">[</span>def_1, <span class="o">[</span>def_2, ...<span class="o">]]</span> cond_1 <span class="o">[</span>and cond_2 <span class="o">[</span>and ...<span class="o">]]</span> <span class="o">=</span>&gt; th_1 <span class="o">[</span>and th_2 <span class="o">[</span>and ...<span class="o">]]</span>
</pre></div>

<p>Where:</p>

<ul>
<li>  <code>def_i</code> is the same as before</li>
<li>  <code>cond_i</code> is a required theorem, in order to produce new theorems
(separated by <em>and</em> if several conditions)</li>
<li>  <code>th_i</code> is a produced theorems with the rule</li>
</ul><h2>
<a name="installation" class="anchor" href="#installation"><span class="octicon octicon-link"></span></a>Installation</h2>

<p>Install with:</p>

<div class="highlight highlight-bash"><pre><span class="nv">$ </span>python setup.py install --user
</pre></div>

<p>A script should be put in <code>~/.local/bin</code>, make sure this path is in your
<code>$PATH</code>:</p>

<div class="highlight highlight-bash"><pre><span class="nv">$ </span><span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span><span class="nv">$PATH</span>:~/.local/bin
</pre></div>

<h2>
<a name="tests" class="anchor" href="#tests"><span class="octicon octicon-link"></span></a>Tests</h2>

<p>If installation is successful, run the tests with:</p>

<div class="highlight highlight-bash"><pre><span class="nv">$ </span><span class="nb">cd </span>tests
<span class="nv">$ </span>python test_formalsystems.py -v
</pre></div>

<h2>
<a name="main-script" class="anchor" href="#main-script"><span class="octicon octicon-link"></span></a>Main script</h2>

<p>After installation, you should have the main script
<code>FormalSystemsMain.py</code> deployed somewhere where you <code>$PATH</code> points to,
under the name <code>FormalSystems</code>. If it is not the case, you can always
execute the script directly, assuming the dependencies are properly
installed (just <em>pyyaml</em> and <em>LEPL</em>).</p>

<p>Usage of the main script is fully documented in <code>--help</code> argument.</p>

<p>You may generate theorems step by step if the number of axioms is
finite:</p>

<div class="highlight highlight-bash"><pre><span class="nv">$ </span>FormalSystems definitions/MIU.yaml --iteration 3 
&gt; Finite number of axioms, using step algorithm

STEP 1: MI

P  <span class="o">(</span>1<span class="o">)</span> x is .*, <span class="nv">xI</span> <span class="o">=</span>&gt; xIU                    <span class="k">for  </span>MI                         gives  MIU
P  <span class="o">(</span>2<span class="o">)</span> x is .*, <span class="nv">Mx</span> <span class="o">=</span>&gt; Mxx                    <span class="k">for  </span>MI                         gives  MII
.  <span class="o">(</span>3<span class="o">)</span> x is .*, y is .*, <span class="nv">xIIIy</span> <span class="o">=</span>&gt; xUy        <span class="k">for  </span>MI                       
.  <span class="o">(</span>4<span class="o">)</span> x y  .* , <span class="nv">xUUy</span> <span class="o">=</span>&gt; xy                  <span class="k">for  </span>MI                       

STEP 2: MIU/MII

P  <span class="o">(</span>1<span class="o">)</span> x is .*, <span class="nv">xI</span> <span class="o">=</span>&gt; xIU                    <span class="k">for  </span>MII                        gives  MIIU
.  <span class="o">(</span>1<span class="o">)</span> x is .*, <span class="nv">xI</span> <span class="o">=</span>&gt; xIU                    <span class="k">for  </span>MIU                      
P  <span class="o">(</span>2<span class="o">)</span> x is .*, <span class="nv">Mx</span> <span class="o">=</span>&gt; Mxx                    <span class="k">for  </span>MII                        gives  MIIII
P  <span class="o">(</span>2<span class="o">)</span> x is .*, <span class="nv">Mx</span> <span class="o">=</span>&gt; Mxx                    <span class="k">for  </span>MIU                        gives  MIUIU
.  <span class="o">(</span>3<span class="o">)</span> x is .*, y is .*, <span class="nv">xIIIy</span> <span class="o">=</span>&gt; xUy        <span class="k">for  </span>MII                      
.  <span class="o">(</span>3<span class="o">)</span> x is .*, y is .*, <span class="nv">xIIIy</span> <span class="o">=</span>&gt; xUy        <span class="k">for  </span>MIU                      
.  <span class="o">(</span>4<span class="o">)</span> x y  .* , <span class="nv">xUUy</span> <span class="o">=</span>&gt; xy                  <span class="k">for  </span>MII                      
.  <span class="o">(</span>4<span class="o">)</span> x y  .* , <span class="nv">xUUy</span> <span class="o">=</span>&gt; xy                  <span class="k">for  </span>MIU                      

STEP 3: MIIU/MIIII/MIUIU
</pre></div>

<p>Or using a bucket where axioms are thrown and theorems computed
iteratively if the number of axioms is infinite:</p>

<div class="highlight highlight-bash"><pre><span class="nv">$ </span>FormalSystems definitions/pg.yaml --iteration 4
&gt; Infinite number of axioms, using bucket algorithm

<span class="o">[</span>Adding -p-g-- to bucket<span class="o">]</span>

<span class="o">===</span> BUCKET 1: -p-g--

P  <span class="o">(</span>1<span class="o">)</span> x y z are -+, <span class="nv">xpygz</span> <span class="o">=</span>&gt; xpy-gz-        <span class="k">for</span>  -p-g--                     gives  -p--g---
<span class="o">[</span>Adding --p-g--- to bucket<span class="o">]</span>

<span class="o">===</span> BUCKET 2: -p--g---/--p-g---

P  <span class="o">(</span>1<span class="o">)</span> x y z are -+, <span class="nv">xpygz</span> <span class="o">=</span>&gt; xpy-gz-        <span class="k">for</span>  -p--g---                   gives  -p---g----
P  <span class="o">(</span>1<span class="o">)</span> x y z are -+, <span class="nv">xpygz</span> <span class="o">=</span>&gt; xpy-gz-        <span class="k">for</span>  --p-g---                   gives  --p--g----
<span class="o">[</span>Adding ---p-g---- to bucket<span class="o">]</span>

<span class="o">===</span> BUCKET 3: -p---g----/--p--g----/---p-g----

P  <span class="o">(</span>1<span class="o">)</span> x y z are -+, <span class="nv">xpygz</span> <span class="o">=</span>&gt; xpy-gz-        <span class="k">for</span>  -p---g----                 gives  -p----g-----
P  <span class="o">(</span>1<span class="o">)</span> x y z are -+, <span class="nv">xpygz</span> <span class="o">=</span>&gt; xpy-gz-        <span class="k">for</span>  ---p-g----                 gives  ---p--g-----
P  <span class="o">(</span>1<span class="o">)</span> x y z are -+, <span class="nv">xpygz</span> <span class="o">=</span>&gt; xpy-gz-        <span class="k">for</span>  --p--g----                 gives  --p---g-----
<span class="o">[</span>Adding ----p-g----- to bucket<span class="o">]</span>

<span class="o">===</span> BUCKET 4: -p----g-----/---p--g-----/--p---g-----/----p-g-----
</pre></div>

<p>Options are available to display theorem derivation as well:</p>

<div class="highlight highlight-bash"><pre><span class="nv">$ </span>FormalSystems definitions/NDP.yaml --quiet --derivation P-----
&gt; Infinite number of axioms, using bucket algorithm
&gt; Rule with several parents, using <span class="nv">recursivity</span>

<span class="o">===</span> BUCKET 1: --NDP-
<span class="o">===</span> BUCKET 2: --NDP---/-SD--/P--
<span class="o">===</span> BUCKET 3: --NDP-----/---SD--/---NDP--
<span class="o">===</span> BUCKET 4: --NDP-------/---NDP-----/-----SD--/P---/---NDP-
<span class="o">===</span> BUCKET 5: --NDP---------/---NDP--------/---NDP----/-------SD--/-----SD---/-SD---/----NDP---
<span class="o">===</span> BUCKET 6: ---NDP-----------/----NDP-------/---NDP-------/--NDP-----------/---------SD--/----NDP-
<span class="o">===</span> BUCKET 7: ----NDP-----------/----NDP-----/---NDP----------/---NDP--------------/--NDP-------------/-----------SD--/-------SD---/-SD----/----NDP--
<span class="o">===</span> BUCKET 8: ----NDP---------/----NDP---------------/---NDP-------------/---NDP-----------------/--NDP---------------/----NDP------/-------------SD--/-------SD----/-----SD----/-----------SD---/-----NDP-
<span class="o">===</span> BUCKET 9: --NDP-----------------/-----NDP------/----NDP-------------/---NDP--------------------/---NDP----------------/----NDP----------/----NDP-------------------/---------------SD--/-SD-----/-------------SD---/-----------SD----/P-----/-----NDP--

<span class="o">===</span> Theorem P----- found, derivation:
<span class="o">[</span>1 <span class="o">]</span>  Axiom                                                                     gives  --NDP-              
<span class="o">[</span>2 <span class="o">]</span>  <span class="o">(</span>1<span class="o">)</span> x y are -+, <span class="nv">xNDPy</span> <span class="o">=</span>&gt; xNDPxy           <span class="k">for</span>  --NDP-                     gives  --NDP---            
<span class="o">[</span>3 <span class="o">]</span>  Axiom                                                                     gives  ---NDP--            
<span class="o">[</span>3 <span class="o">]</span>  <span class="o">(</span>1<span class="o">)</span> x y are -+, <span class="nv">xNDPy</span> <span class="o">=</span>&gt; xNDPxy           <span class="k">for</span>  --NDP---                   gives  --NDP-----          
<span class="o">[</span>4 <span class="o">]</span>  Axiom                                                                     gives  ----NDP-            
<span class="o">[</span>4 <span class="o">]</span>  <span class="o">(</span>1<span class="o">)</span> x y are -+, <span class="nv">xNDPy</span> <span class="o">=</span>&gt; xNDPxy           <span class="k">for</span>  ---NDP--                   gives  ---NDP-----         
<span class="o">[</span>4 <span class="o">]</span>  <span class="o">(</span>2<span class="o">)</span> z is -+, --NDPz <span class="o">=</span>&gt; zSD--              <span class="k">for</span>  --NDP-----                 gives  -----SD--           
<span class="o">[</span>5 <span class="o">]</span>  <span class="o">(</span>1<span class="o">)</span> x y are -+, <span class="nv">xNDPy</span> <span class="o">=</span>&gt; xNDPxy           <span class="k">for</span>  ----NDP-                   gives  ----NDP-----        
<span class="o">[</span>5 <span class="o">]</span>  <span class="o">(</span>3<span class="o">)</span> x z are -+, zSDx and x-NDPz <span class="o">=</span>&gt; zSDx-  <span class="k">for</span>  -----SD-- and ---NDP-----  gives  -----SD---          
<span class="o">[</span>6 <span class="o">]</span>  <span class="o">(</span>3<span class="o">)</span> x z are -+, zSDx and x-NDPz <span class="o">=</span>&gt; zSDx-  <span class="k">for</span>  -----SD--- and ----NDP-----  gives  -----SD----         
<span class="o">[</span>7 <span class="o">]</span>  <span class="o">(</span>4<span class="o">)</span> z is -+, z-SDz <span class="o">=</span>&gt; Pz-                 <span class="k">for</span>  -----SD----                gives  P-----
</pre></div>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/alexprengere">alexprengere</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    
  </body>
</html>